services:
  - type: web
    name: kite-scalper-engine
    env: node
    region: singapore
    plan: starter
    buildCommand: npm ci
    startCommand: npm start
    healthCheckPath: /health
    autoDeploy: false
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      # ---- REQUIRED (set in Render dashboard as secrets) ----
      # - MONGO_URI
      # - MONGO_DB
      # - KITE_API_KEY
      # - KITE_TOKEN_COLLECTION
      # ---- SUBSCRIBE ----
      # - SUBSCRIBE_SYMBOLS (e.g. NSE:RELIANCE)
      # ---- TRADING ----
      # - TRADING_ENABLED ("true" when ready)
      # - DEFAULT_PRODUCT (MIS)
      # ---- ENGINE LIFECYCLE (production schedule) ----
      - key: ENGINE_LIFECYCLE_ENABLED
        value: "true"
      - key: ENGINE_WARMUP_HHMM
        value: "09:10"
      - key: ENGINE_LIVE_HHMM
        value: "09:15"
      - key: ENGINE_CLOSE_HHMM
        value: "15:30"
      # Comma-separated YYYY-MM-DD market holidays (keep updated each exchange calendar year)
      - key: MARKET_HOLIDAYS
        value: ""
      # ---- TELEGRAM ----
      # - TELEGRAM_ENABLED ("true")
      # - TELEGRAM_BOT_TOKEN
      # - TELEGRAM_CHAT_ID
